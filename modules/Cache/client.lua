local a={ped={func=PlayerPedId,interval=250},veh={func=function()return GetVehiclePedIsIn(PlayerPedId(),false)end,interval=500},coords={func=function()local b=PlayerPedId()local c=GetEntityCoords(b)return vector4(c.x,c.y,c.z,GetEntityHeading(b))end,interval=250},seat={func=function()local d=GetVehiclePedIsIn(PlayerPedId(),false)if not d or d==0 then return false end;for e=-1,GetVehicleMaxNumberOfPassengers(d)-1 do if GetPedInVehicleSeat(d,e)==PlayerPedId()then return e end end;return false end,interval=500},source={func=function()return GetPlayerServerId(PlayerId())end,interval=1000},weapon={func=function()local f=GetSelectedPedWeapon(PlayerPedId())if f==0 or f==nil or f==-1569615261 then f=false end;return f end,interval=240}}AddStore("CACHE",function()end)Lib.Cache=function(g)local h={}for i,j in pairs(a)do h[i]=j.value end;return h end;Lib.CacheChange=function(g,i,k)AddToStore("CACHE",g,{key=i,cb=k})end;local l=function(g,i,j,m)TriggerEvent("lib:cache:update",i,j,m)for n,o in pairs(STORE.CACHE)do for e=1,#o do local p=o[e]if p.key==i then p.cb(j,m)end end end end;local q=50;for i,j in pairs(a)do a[i].interval=math.ceil(j.interval/q)*q end;CreateThread(function()while true do for i,j in pairs(a)do if not j.next then a[i].next=j.interval end;a[i].next=a[i].next-q;if a[i].next<=0 then a[i].next=j.interval;local r=a[i].value;a[i].value=j.func()if r~=a[i].value then l(i,a[i].value,r)end end end;Wait(q)end end)