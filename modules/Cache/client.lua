local a={ped={func=PlayerPedId,interval=250},veh={func=function()return GetVehiclePedIsIn(PlayerPedId(),false)end,interval=500},coords={func=function()local b=PlayerPedId()local c=GetEntityCoords(b)return vector4(c.x,c.y,c.z,GetEntityHeading(b))end,interval=250},seat={func=function()local d=GetVehiclePedIsIn(PlayerPedId(),false)if not d or d==0 then return false end;for e=-1,GetVehicleMaxNumberOfPassengers(d)-1 do if GetPedInVehicleSeat(d,e)==PlayerPedId()then return e end end;return false end,interval=500},source={func=function()return GetPlayerServerId(PlayerId())end,interval=1000},weapon={func=function()local f=GetSelectedPedWeapon(PlayerPedId())if f==0 or f==nil or f==-1569615261 then f=false end;return f end,interval=240}}AddStore("CACHE",function()end)Lib.Cache=function()local g={}for h,i in pairs(a)do g[h]=i.value end;return g end;Lib.CacheChange=function(h,j)local k=GetInvokingResource()AddToStore("CACHE",k,{key=h,cb=j})end;local l=function(h,i,m)TriggerEvent("lib:cache:update",h,i,m)for n,o in pairs(STORE.CACHE)do for e=1,#o do local p=o[e]if p.key==h then p.cb(i,m)end end end end;local q=50;for h,i in pairs(a)do a[h].interval=math.ceil(i.interval/q)*q end;CreateThread(function()while true do for h,i in pairs(a)do if not i.next then a[h].next=i.interval end;a[h].next=a[h].next-q;if a[h].next<=0 then a[h].next=i.interval;local r=a[h].value;a[h].value=i.func()if r~=a[h].value then l(h,a[h].value,r)end end end;Wait(q)end end)