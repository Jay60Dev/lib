local a={ped={func=function()return PlayerPedId()end,value=PlayerPedId()},veh={func=function()local b=GetVehiclePedIsIn(PlayerPedId(),false)return b~=0 and b or false end,value=GetVehiclePedIsIn(PlayerPedId(),false)~=0 and GetVehiclePedIsIn(PlayerPedId(),false)or false},source={value=GetPlayerServerId(PlayerId())},playerId={value=PlayerId()},coords={func=function()return vector4(GetEntityCoords(PlayerPedId()),GetEntityHeading(PlayerPedId()))end},weapon={func=function()local c=GetSelectedPedWeapon(PlayerPedId())if c==0 or c==nil or c==-1569615261 then c=false end;return c end},seat={func=function()local d=GetVehiclePedIsIn(PlayerPedId(),false)if not d or d==0 then return false end;for e=-1,GetVehicleMaxNumberOfPassengers(d)-1 do if GetPedInVehicleSeat(d,e)==PlayerPedId()then return e end end;return false end}}a.weapon.value=a.weapon.func()local f=setmetatable({},{__index=function(self,g)if g=="AddHandler"then return function(h,i,j)if not a[i]then return print(print(("[%s] ^1is not a valid cache key. Check cacheKeys table.^7"):format(i)))end;a[i]=a[i]or{}a[i].handlers=a[i].handlers or{}a[i].handlers[#a[i].handlers+1]={resource=h,handler=j}end end;return a[g].value or a[g].func and a[g].func()end,__newindex=function(self,g,k)local l=a[g].value;if l~=k then a[g].value=k;if a[g].handlers then for m,n in pairs(a[g].handlers)do if n.handler then CreateThread(function()n.handler(k,l)end)end end end end end})local o=function(h)for g,k in pairs(a)do if k.handlers then for p,j in pairs(k.handlers)do if j.resource==h then a[g].handlers[p]=nil end end end;if type(k.handlers)=="table"and not next(k.handlers)then a[g].thread=nil end end end;AddEventHandler("onResourceStop",function(h)o(h)end)local q=function()local r={}for g,m in pairs(a)do r[g]=f[g]end;return r end;Client.Cache=function(h,g)if not g then return q()end;if not a[g]then return print(g,"^1Not a valid cache key^7")end;return f[g]end;Client.CacheChange=function(h,g,j)f.AddHandler(h,g,j)end;CreateThread(function()while true do Wait(250)for g,k in pairs(a)do if k.func then f[g]=k.func()end end end end)