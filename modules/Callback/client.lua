local a={}local b={}Client.Callback=function(c,d,...)a[d]=promise.new()TriggerServerEvent("lib:callback:server",d,...)Citizen.Await(a[d])local e=a[d].value;a[d]=nil;return table.unpack(e)end;RegisterNetEvent("lib:callback:resolve",function(d,...)if not a[d]then return end;a[d]:resolve({...})end)Client.RegisterCallback=function(c,d,f)b[d]=f end;RegisterNetEvent("lib:callback:client",function(d,...)if not b[d]then return print(("Tried to call a callback that does not exist: %s"):format(d))end;TriggerServerEvent("lib:callback:resolve",d,b[d](...))end)