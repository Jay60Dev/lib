AddStore("PLAYERLOADED")AddStore("PLAYERUNLOADED")local a={PLAYERLOADED={client={"QBCore:Client:OnPlayerLoaded"},server={"QBCore:Server:PlayerLoaded"}},PLAYERUNLOADED={client={"QBCore:Client:OnPlayerUnload"},server={"QBCore:Server:PlayerUnloaded"}}}Lib.OnPlayerLoaded=function(b,c)local d=GetInvokingResource()or c;AddToStore("PLAYERLOADED",d,b)end;Lib.OnPlayerUnloaded=function(b,c)local d=GetInvokingResource()or c;AddToStore("PLAYERUNLOADED",d,b)end;local e={PLAYERLOADED=0,PLAYERUNLOADED=0}local function f(g,h)local i=GetGameTimer()-e[h]if i<5000 then return end;e[h]=GetGameTimer()for j,k in pairs(STORE[h]or{})do for l=1,#k do k[l](g)end end end;for h,m in pairs(a)do for n,o in pairs(m)do if Client and n=="client"or Server and n=="server"then for l=1,#o do RegisterNetEvent(o[l],function()local source=source;f(source,h)end)end end end end