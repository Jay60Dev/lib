local a,b=Lib.UseResource()if not a then return end;AddStore("TARGETS",function(c)if c.remove then if type(c.name)=="table"then for d=1,#(c.name.options or{})do Lib.Target[c.remove](GetCurrentResourceName(),c.name.options[d].name)end;return end;Lib.Target[c.remove](GetCurrentResourceName(),c.name)end end)local e=function(f)local g={options={},distance=5}for d=1,#f do g.options[d]={label=f[d].label,name=f[d].name or f[d].label,icon=f[d].icon,action=f[d].onSelect and function(h)local i=GetEntityCoords(h)local j=GetEntityCoords(PlayerPedId())local k=#(i-j)f[d].onSelect(h,k,i)end,canInteract=f[d].canInteract and function(h,k,c)local i=GetEntityCoords(h)return f[d].canInteract(h,i,k)end}g.distance=f[d].distance and(g.distance>f[d].distance and g.distance)or g.distance end;return g end;local l=function(m)local n;local o,p=nil,nil;if m.points then n={}for d=1,#m.points do n[#n+1]=vector2(m.points[d].x,m.points[d].y)o=o and(m.points[d].z<o and m.points[d].z or o)or m.points[d].z;p=p and(m.points[d].z>p and m.points[d].z or p)or m.points[d].z end;local q=(o+p)/2;m.center=m.center or vector3(m.points[1].x,m.points[1].y,q)o=q-(m.thickness or 4)/2 or o;p=q+(m.thickness or 4)/2 or p end;return{coords=m.coords,length=m.size and m.size.x,width=m.size and m.size.y,name=m.name,radius=m.radius,points=n,center=m.center,options={name=m.name,heading=m.rotation or 0,minZ=o or m.coords.z-(m.size and m.size.z/2 or 0),maxZ=p or m.coords.z+(m.size and m.size.z/2 or 0),debugPoly=m.debug,debugGrid=m.debug,debug=m.debug}}end;Lib.Target={AddEntity=function(r,h,f)b:AddTargetEntity(h,e(f))AddToStore("TARGETS",r,{remove="RemoveEntity",name=f})end,RemoveEntity=function(r,h,s)b:RemoveTargetEntity(h,s)end,AddModel=function(r,t,f)b:AddTargetModel(t,e(f))AddToStore("TARGETS",r,{remove="RemoveModel",name=f})end,RemoveModel=function(r,t,s)b:RemoveTargetModel(t,s)end,AddGlobalPed=function(r,u,f)b:AddGlobalPed(e(f))AddToStore("TARGETS",r,{remove="RemoveGlobalPed",name=f})end,RemoveGlobalPed=function(r,s)b:RemoveGlobalPed(s)end,AddGlobalPlayer=function(r,f)b:AddGlobalPlayer(e(f))AddToStore("TARGETS",r,{remove="RemoveGlobalPlayer",name=f})end,RemoveGlobalPlayer=function(r,s)b:RemoveGlobalPlayer(s)end,AddGlobalVehicle=function(r,f)b:AddGlobalVehicle(e(f))AddToStore("TARGETS",r,{remove="RemoveGlobalVehicle",name=f})end,RemoveGlobalVehicle=function(r,s)b:RemoveGlobalVehicle(s)end,AddGlobalObject=function(r,v,f)b:AddGlobalObject(e(f))AddToStore("TARGETS",r,{remove="RemoveGlobalObject",name=f})end,RemoveGlobalObject=function(r,s)b:RemoveGlobalObject(s)end,AddBoxZone=function(r,w)local m=l(w)b:AddBoxZone(m.name,m.coords,m.length,m.width,m.options,e(w.options))AddToStore("TARGETS",r,{remove="RemoveBoxZone",name=m.name})end,RemoveBoxZone=function(r,x)b:RemoveZone(x)end,AddCircleZone=function(r,w)local m=l(w)b:AddCircleZone(m.name,m.coords,m.radius,m.options,e(w.options))AddToStore("TARGETS",r,{remove="RemoveCircleZone",name=m.name})end,RemoveCircleZone=function(r,x)b:RemoveZone(x)end,AddPolyZone=function(r,w)local m=l(w)b:AddPolyZone(m.name,m.points,m.options,e(w.options))AddToStore("TARGETS",r,{remove="RemovePolyZone",name=m.name})end,RemovePolyZone=function(r,x)b:RemoveZone(x)end}