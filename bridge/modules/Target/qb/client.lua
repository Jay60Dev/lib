if not IsMissing("Target","qb-target")then return end;AddStore("TARGETS",function(a)if a.remove then if type(a.name)=="table"then for b=1,#(a.name.options or{})do Lib.Target[a.remove](GetCurrentResourceName(),a.name.options[b].name)end;return end;Lib.Target[a.remove](GetCurrentResourceName(),a.name)end end)local c=exports["qb-target"]local d=function(e)local f={options={},distance=5}for b=1,#e do f.options[b]={label=e[b].label,name=e[b].name or e[b].label,icon=e[b].icon,action=e[b].onSelect and function(g)local h=GetEntityCoords(g)local i=GetEntityCoords(PlayerPedId())local j=#(h-i)e[b].onSelect(g,j,h)end,canInteract=e[b].canInteract and function(g,j,a)local h=GetEntityCoords(g)return e[b].canInteract(g,h,j)end}f.distance=e[b].distance and(f.distance>e[b].distance and f.distance)or f.distance end;return f end;local k=function(l)local m;local n,o=nil,nil;if l.points then m={}for b=1,#l.points do m[#m+1]=vector2(l.points[b].x,l.points[b].y)n=n and(l.points[b].z<n and l.points[b].z or n)or l.points[b].z;o=o and(l.points[b].z>o and l.points[b].z or o)or l.points[b].z end;local p=(n+o)/2;l.center=l.center or vector3(l.points[1].x,l.points[1].y,p)n=p-(l.thickness or 4)/2 or n;o=p+(l.thickness or 4)/2 or o end;return{coords=l.coords,length=l.size and l.size.x,width=l.size and l.size.y,name=l.name,radius=l.radius,points=m,center=l.center,options={name=l.name,heading=l.rotation or 0,minZ=n or l.coords.z-(l.size and l.size.z/2 or 0),maxZ=o or l.coords.z+(l.size and l.size.z/2 or 0),debugPoly=l.debug,debugGrid=l.debug,debug=l.debug}}end;Lib.Target={AddEntity=function(q,g,e)c:AddTargetEntity(g,d(e))AddToStore("TARGETS",q,{remove="RemoveEntity",name=e})end,RemoveEntity=function(q,g,r)c:RemoveTargetEntity(g,r)end,AddModel=function(q,s,e)c:AddTargetModel(s,d(e))local t=GetInvokingResource()AddToStore("TARGETS",t,{remove="RemoveModel",name=e})end,RemoveModel=function(q,s,r)c:RemoveTargetModel(s,r)end,AddGlobalPed=function(q,u,e)c:AddGlobalPed(d(e))local t=GetInvokingResource()AddToStore("TARGETS",t,{remove="RemoveGlobalPed",name=e})end,RemoveGlobalPed=function(q,r)c:RemoveGlobalPed(r)end,AddGlobalPlayer=function(q,e)c:AddGlobalPlayer(d(e))local t=GetInvokingResource()AddToStore("TARGETS",t,{remove="RemoveGlobalPlayer",name=e})end,RemoveGlobalPlayer=function(q,r)c:RemoveGlobalPlayer(r)end,AddGlobalVehicle=function(q,e)c:AddGlobalVehicle(d(e))local t=GetInvokingResource()AddToStore("TARGETS",t,{remove="RemoveGlobalVehicle",name=e})end,RemoveGlobalVehicle=function(q,r)c:RemoveGlobalVehicle(r)end,AddGlobalObject=function(q,v,e)c:AddGlobalObject(d(e))local t=GetInvokingResource()AddToStore("TARGETS",t,{remove="RemoveGlobalObject",name=e})end,RemoveGlobalObject=function(q,r)c:RemoveGlobalObject(r)end,AddBoxZone=function(q,w)local l=k(w)c:AddBoxZone(l.name,l.coords,l.length,l.width,l.options,d(w.options))local t=GetInvokingResource()AddToStore("TARGETS",t,{remove="RemoveBoxZone",name=l.name})end,RemoveBoxZone=function(q,x)c:RemoveZone(x)end,AddCircleZone=function(q,w)local l=k(w)c:AddCircleZone(l.name,l.coords,l.radius,l.options,d(w.options))local t=GetInvokingResource()AddToStore("TARGETS",t,{remove="RemoveCircleZone",name=l.name})end,RemoveCircleZone=function(q,x)c:RemoveZone(x)end,AddPolyZone=function(q,w)local l=k(w)c:AddPolyZone(l.name,l.points,l.options,d(w.options))local t=GetInvokingResource()AddToStore("TARGETS",t,{remove="RemovePolyZone",name=l.name})end,RemovePolyZone=function(q,x)c:RemoveZone(x)end}