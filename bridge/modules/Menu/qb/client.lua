if not IsMissing("Menu","qb-menu")then return end;local a=exports["qb-menu"]AddStore("MENUFUNCTIONS")RegisterNetEvent('lib:TriggerMenuEvent',function(b)local c=b.args or{}local d=b.resource;for e=1,#STORE.MENUFUNCTIONS[d]do local f=STORE.MENUFUNCTIONS[d][e]if f.id==b.id then f.func(c)break end end end)local g=function(f)local h={}h[#h+1]={header=f.title,isMenuHeader=true}for e=1,#f.options do local i=f.options[e]local j=function(b)if i.serverEvent then TriggerServerEvent(i.serverEvent,b)end;if i.event then TriggerEvent(i.event,b)end;if i.onSelect then i.onSelect(b)end end;local k=("%s:%s:%d"):format(f.id,i.title,e)local d=GetInvokingResource()or GetCurrentResourceName()AddToStore("MENUFUNCTIONS",d,{id=k,func=j})local l={header=i.title,txt=i.description,icon=i.icon,disabled=i.disabled or i.readOnly,params={isServer=false,event='lib:TriggerMenuEvent',args={id=k,resource=d,args=i.args}}}h[#h+1]=l end;return h end;Lib.Menu=function(f)if not(f.id and f.title)then return print("Menu requires an id and title.")end;exports['qb-menu']:openMenu(g(f))end