if not IsMissing("Menu","qb-menu")then return end;local a=exports["qb-menu"]AddStore("MENUFUNCTIONS")RegisterNetEvent('lib:TriggerMenuEvent',function(b)local c=b.args or{}local d=b.resource;for e=1,#(STORE.MENUFUNCTIONS[d]or{})do local f=STORE.MENUFUNCTIONS[d][e]if f.id==b.id then f.func(c)break end end end)local g=function(h,f)local i={}i[#i+1]={header=f.title,isMenuHeader=true}for e=1,#(f.options or{})do local j=f.options[e]local k=function(b)if j.serverEvent then TriggerServerEvent(j.serverEvent,b)end;if j.event then TriggerEvent(j.event,b)end;if j.onSelect then j.onSelect(b)end end;local l=("%s:%s:%d"):format(f.id,j.title,e)AddToStore("MENUFUNCTIONS",h,{id=l,func=k})local m={header=j.title,txt=j.description,icon=j.icon,disabled=j.disabled or j.readOnly,params={isServer=false,event='lib:TriggerMenuEvent',args={id=l,resource=h,args=j.args}}}i[#i+1]=m end;return i end;Lib.Menu=function(h,f)if not(f.id and f.title)then return print("Menu requires an id and title.")end;a:openMenu(g(h,f))end